---
title: 求折线段与直线的交点数
date: 2019-03-06 14:58:34
tags: [CPP,LeetCode]
categories: 数据结构与算法
top:
---
题目描述：
给定一个折线段，其由一个数组表示；例如数组`[5,3,1,4]`表示由[0,5] -> [1,3] -> [2,1] -> [3,4]构成的折线段。和一个整数，表示与X轴平行的直线；例如，2表示Y=2的直线，求折线段与直线的交点数，如果无穷的交点数用-1表示

输入：
[5,3,1,4], 2
输出：
2

<!-- more -->

思路：
有交点的地方，在Y轴方向差值之和不为正数。
特殊情况：点在直线上怎么办，折线与直线平行怎么办？

 1. 如果数组为空，没有交点返回0；
 2. 如果数组只有一个值，该点恰好在直线上，返回1；
 3. 如果线段[y1, y2]斜跨过直线，则(y1-value)*(y2-value)<0;
 4. 如果线段[y1, y2]恰好有一端在直线上，则(y1-value)*(y2-value)=0；
 5. 如果线段[y1, y2]两端都在直线上，则线段与直线重合，有无穷个交点，则(y1-value)==0 && (y2-value)=0，返回-1。


用C++实现了一个比较啰嗦的解法：
{% ghcode https://github.com/fuhailin/show-me-cpp-code/blob/master/algorithm/lines-intersection.cpp %}
